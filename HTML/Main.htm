<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Page</title>
    <link rel="stylesheet" href="../style.css">
    <script type="text/javascript" src="../Javascript/plotCode.js"></script>
    <script type="text/javascript" scr="../Javascript/settingsBehavior.js"></script>

    <!-- Javascripts-->
</head>

<body>
    <div class="barUpTxtLeft"><h1 class="guardian">Energy-Guardian</h1></div>
    <div class="bar_up">
        <span class="barUpTxtRight" onclick="inlog()">Log out</span>
        <span class="barUpTxtRight" onclick="openSettings()">Settings</span>
        

        <script type="text/javascript">
            function openSettings() {
                document.getElementById("barDown").style.height="50vh";
            }
            
            function closeSettings() {
                document.getElementById("barDown").style.height = "3vh";

                if(document.getElementById("passwordBar").style.width > "0vw"){
                    closePassword()
                }

                else if(document.getElementById("deviceBar").style.width > "0vw"){
                    closeDevice();
                }
            }

            function inlog(){
                window.location.href="Login.htm";
            }
        </script>

    </div>

    <div id="mid" class="mid">
        <div style="height:80vh">
            <a href="plotter.htm"><div class="verbruikNu" style="position:absolute; left:15vw; top:15vh">
                <h3 id="txt" class="mainH3">Usage now</h3>
                <div class="squareMain">
                    <h2 class="error" id="output">Click!</h2>
                </div>
            </div></a>

            <div class="verbruikPeriode" style="position:absolute; left:45vw; top:15vh">
                <h3 id="txt" class="mainH3">Usage periode</h3>
                <div class="squareMain">
                    <h2 class="error" id="script">Error</h2>
                </div>
            </div>

            <div class="verbruikTotaal" style="position:absolute; left:75vw; top:15vh">
                <h3 id="txt" class="mainH3">Usage total</h3>
                <div class="squareMain">
                    <h2 class="error">Error</h2>
                </div>
            </div>

            <div class="status" style="position:absolute; left:15vw; top:60vh">
                <h3 id="txt" class="mainH3">Status</h3>
                <div class="squareMain">
                    <h2 class="error">Error</h2>
                </div>
            </div>

            <div class="timer" style="position:absolute; left:45vw; top:60vh">
                <h3 id="txt" class="mainH3">Timer</h3>
                <div class="squareMain">
                    <h2 class="error">Error</h2>
                </div>
            </div>

            <div class="apparaat" style="position:absolute; left:75vw; top:60vh">
                <h3 id="txt" class="mainH3">Device</h3>
                <div class="squareMain">
                    <h2 class="error">Error</h2>
                </div>
            </div>

        </div>
    </div>

    <div id="barDown" class="bar_down">
        <a href="javascript:void(0)" class="close" onclick="closeSettings()">&times;</a>
        <div class="showTxtBarDown">
            <a href="#" style="text-decoration:none; color:white" onclick="openPassword()">Change password</a><br>
            <a href="#" style="text-decoration:none; color:white" onclick="openDevice()">Connect device</a><br>
            <a href="#" style="text-decoration:none; color:white" onclick="lightMode()">Light mode /</a>
            <a href="#" style="text-decoration:none; color:white" onclick="normalMode()">Normal mode /</a>
            <a href="#" style="text-decoration:none; color:white" onclick="darkMode()">Dark mode</a>
        </div>

        <div id="passwordBar" class="changePassword">
            <div class="passwordBar">
                <br><br>
                <h1>Change Password</h1>
                <label for="fPassword">Password</label><br>
                <input type="Password" placeholder="              Password"  name="newPassword" id="new"><br></br>

                <label for="fRepeat Password">Repeat Password</label><br>
                <input type="password" placeholder="              Password" name="newPasswordRepeat" id="newRepeat"><br></br>
            </div>

            <button class="button" onclick="changePassword()" value="Submit">Continue</button><br><br>
        </div>

        <div id="deviceBar" class="setDevice">
            <h1>Connect Device</h1>
        </div>

        <script>
            function openPassword(){
                if(document.getElementById("deviceBar").style.width > "0vw"){
                    closeDevice();
                }

                document.getElementById("passwordBar").style.width = "20vw";
                document.getElementById("passwordBar").style.height = "50vh";

            }
            
            function closePassword(){
                document.getElementById("passwordBar").style.width = "0vw";
                document.getElementById("passwordBar").style.height = "3vh";
            }

            function changePassword(){
                var password = document.getElementById("new");
                var repeatPassword = document.getElementById("newRepeat");

                if(password.value == repeatPassword.value){
                    alert(`Password has been changed to ${password.value}`);
                }
                
                else{
                    alert("The 2 passwords were not the same")
                }

                password.value="";
                repeatPassword.value="";
            }
            
            function openDevice(){
                if (document.getElementById("passwordBar").style.width > "0vw"){
                    closePassword()
                }

                document.getElementById("deviceBar").style.width = "20vw";
                document.getElementById("deviceBar").style.height = "50vh";
            }

            function closeDevice(){
                document.getElementById("deviceBar").style.width = "0vw";
                document.getElementById("deviceBar").style.height = "3vh";
            }
            function lightMode(){
                document.getElementById("mid").style.backgroundColor = "whitesmoke";
                var elements = document.getElementsByClassName("mainH3");

                for (var i = 0; i < elements.length; i++) {
                    elements[i].style.color = "black";
                }
            }

            function darkMode(){
                document.getElementById("mid").style.backgroundColor = "black";
                var elements = document.getElementsByClassName("mainH3");

                for (var i = 0; i < elements.length; i++) {
                    elements[i].style.color = "whitesmoke";
                }
            }

            function normalMode(){
                document.getElementById("mid").style.backgroundColor = "lightslategray";
                var elements = document.getElementsByClassName("mainH3");

                for (var i = 0; i < elements.length; i++) {
                    elements[i].style.color = "black";
                }

            }
        </script>
    </div> 

</body>